<div class="main-content">
  <div class="section">
    <div class="section-headline-container">
      <h2>Gerichteverwaltung</h2>
      <button (click)="editDefaultSettings()" class="standard-settings-button" color="primary" mat-flat-button>
        <mat-icon>tune</mat-icon>
        Standardwerte anpassen
      </button>
    </div>

    <hr class="bg-neutral"/>
  </div>

  <div class="dishes--date-container">
    <button (click)="getPreviousCalendarWeek()" [disabled]="this.calendarWeekIndex == 0" class="arrow-button"
            mat-icon-button>
      <mat-icon class="arrow-back">arrow_back</mat-icon>
    </button>

    <h2>{{ currentlyDisplayedWeek.span }}</h2>

    <button (click)="getNextCalendarWeek()" [disabled]="this.calendarWeekIndex == MAX_FOLLOWING_WEEKS" class="arrow-button"
            mat-icon-button>
      <mat-icon class="arrow-forward">arrow_forward</mat-icon>
    </button>
  </div>

  <div class="dishes--week-tabs-container">
    <mat-tab-group #tabs (selectedTabChange)="onTabChange($event)" [selectedIndex]="currentTab" animationDuration="0ms">
      <mat-tab [disabled]="calendarWeekIndex === 0 && maxPossibleTabIndex > 0">
        <ng-template mat-tab-label>
          <span [matBadge]="weekCounter[0] > 0 ? weekCounter[0] : ''" matBadgePosition="after" matBadgeOverlap="false" matBadgeSize="medium" matBadgeColor="primary">Montag</span>
        </ng-template>
        <table [dataSource]="dataSource" class="bg-background" id="table-monday" mat-table>
          <ng-container matColumnDef="title">
            <th *matHeaderCellDef mat-header-cell style="width: 20%">
              <h2>Gericht</h2>
            </th>
            <td *matCellDef="let element" mat-cell>{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th *matHeaderCellDef mat-header-cell style="width: 50%">
              <h2>Beschreibung</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ element.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th *matHeaderCellDef mat-header-cell style="width: 25%">
              <h2>Kategorie</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ getCategoryName(element.categoryId) }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 5%">
              <h2>Aktionen</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              <div class="action-buttons">
                <button mat-icon-button class="icon-button-outlined" (click)="edit(element)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button (click)="delete(element)" class="icon-button" mat-icon-button>
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
          <tr *matRowDef="let row; columns: displayedColumns" mat-row></tr>

          <tr *matNoDataRow class="mat-row">
            <td class="mat-cell" colspan="4" style="
                padding-top: 1rem;
                padding-left: 1rem;
                padding-bottom: 1rem;
              ">
              {{ "Es sind keine Daten vorhanden." }}
            </td>
          </tr>
        </table>

        <button (click)="create()" class="button-add" color="primary" mat-flat-button>
          Gericht hinzufügen
        </button>
      </mat-tab>
      <mat-tab [disabled]="calendarWeekIndex === 0 && maxPossibleTabIndex  > 1">
        <ng-template mat-tab-label>
          <span [matBadge]="weekCounter[1] > 0 ? weekCounter[1] : ''" matBadgePosition="after" matBadgeOverlap="false" matBadgeSize="medium" matBadgeColor="primary">Dienstag</span>
        </ng-template>
        <table [dataSource]="dataSource" class="bg-background dish-table" mat-table>
          <ng-container matColumnDef="title">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 20%">
              <h2>Gericht</h2>
            </th>
            <td *matCellDef="let element" mat-cell>{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 50%">
              <h2>Beschreibung</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ element.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 25%">
              <h2>Kategorie</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ getCategoryName(element.categoryId) }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 5%">
              <h2>Aktionen</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              <div class="action-buttons">
                <button mat-icon-button class="icon-button-outlined">
                  <mat-icon>edit</mat-icon>
                </button>
                <button (click)="delete(element)" class="icon-button" mat-icon-button>
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
          <tr *matRowDef="let row; columns: displayedColumns" mat-row></tr>

          <tr *matNoDataRow class="mat-row">
            <td class="mat-cell" colspan="4" style="
                padding-top: 1rem;
                padding-left: 1rem;
                padding-bottom: 1rem;
              ">
              {{ "Es sind keine Daten vorhanden." }}
            </td>
          </tr>
        </table>

        <button (click)="create()" class="button-add" color="primary" mat-flat-button>
          Gericht hinzufügen
        </button>
      </mat-tab>
      <mat-tab [disabled]="calendarWeekIndex === 0 && maxPossibleTabIndex > 2">
        <ng-template mat-tab-label>
          <span [matBadge]="weekCounter[2] > 0 ? weekCounter[2] : ''" matBadgePosition="after" matBadgeOverlap="false" matBadgeSize="medium" matBadgeColor="primary">Mittwoch</span>
        </ng-template>
        <table [dataSource]="dataSource" class="bg-background dish-table" mat-table>
          <ng-container matColumnDef="title">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 20%">
              <h2>Gericht</h2>
            </th>
            <td *matCellDef="let element" mat-cell>{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 50%">
              <h2>Beschreibung</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ element.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 25%">
              <h2>Kategorie</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ getCategoryName(element.categoryId) }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 5%">
              <h2>Aktionen</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              <div class="action-buttons">
                <button mat-icon-button class="icon-button-outlined" (click)="edit(element)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button (click)="delete(element)" class="icon-button" mat-icon-button>
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
          <tr *matRowDef="let row; columns: displayedColumns" mat-row></tr>

          <tr *matNoDataRow class="mat-row">
            <td class="mat-cell" colspan="4" style="
                padding-top: 1rem;
                padding-left: 1rem;
                padding-bottom: 1rem;
              ">
              {{ "Es sind keine Daten vorhanden." }}
            </td>
          </tr>
        </table>

        <button (click)="create()" class="button-add" color="primary" mat-flat-button>
          Gericht hinzufügen
        </button>
      </mat-tab>
      <mat-tab [disabled]="calendarWeekIndex === 0 && maxPossibleTabIndex > 3">
        <ng-template mat-tab-label>
          <span [matBadge]="weekCounter[3] > 0 ? weekCounter[3] : ''" matBadgePosition="after" matBadgeOverlap="false" matBadgeSize="medium" matBadgeColor="primary">Donnerstag</span>
        </ng-template>
        <table [dataSource]="dataSource" class="bg-background dish-table" mat-table>
          <ng-container matColumnDef="title">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 20%">
              <h2>Gericht</h2>
            </th>
            <td *matCellDef="let element" mat-cell>{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 50%">
              <h2>Beschreibung</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ element.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 25%">
              <h2>Kategorie</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ getCategoryName(element.categoryId) }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 5%">
              <h2>Aktionen</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              <div class="action-buttons">
                <button mat-icon-button class="icon-button-outlined" (click)="edit(element)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button (click)="delete(element)" class="icon-button" mat-icon-button>
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
          <tr *matRowDef="let row; columns: displayedColumns" mat-row></tr>

          <tr *matNoDataRow class="mat-row">
            <td class="mat-cell" colspan="4" style="
                padding-top: 1rem;
                padding-left: 1rem;
                padding-bottom: 1rem;
              ">
              {{ "Es sind keine Daten vorhanden." }}
            </td>
          </tr>
        </table>

        <button (click)="create()" class="button-add" color="primary" mat-flat-button>
          Gericht hinzufügen
        </button>
      </mat-tab>
      <mat-tab [disabled]="calendarWeekIndex === 0 && maxPossibleTabIndex > 4">
        <ng-template mat-tab-label>
          <span [matBadge]="weekCounter[4] > 0 ? weekCounter[4] : ''" matBadgePosition="after" matBadgeOverlap="false" matBadgeSize="medium" matBadgeColor="primary">Freitag</span>
        </ng-template>
        <table [dataSource]="dataSource" class="bg-background dish-table" mat-table>
          <ng-container matColumnDef="title">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 20%">
              <h2>Gericht</h2>
            </th>
            <td *matCellDef="let element" mat-cell>{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 50%">
              <h2>Beschreibung</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ element.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 25%">
              <h2>Kategorie</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              {{ getCategoryName(element.categoryId) }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th *matHeaderCellDef class="clr-primary fs-body-bold" mat-header-cell style="width: 5%">
              <h2>Aktionen</h2>
            </th>
            <td *matCellDef="let element" mat-cell>
              <div class="action-buttons">
                <button mat-icon-button class="icon-button-outlined" (click)="edit(element)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button (click)="delete(element)" class="icon-button" mat-icon-button>
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
          <tr *matRowDef="let row; columns: displayedColumns" mat-row></tr>

          <tr *matNoDataRow class="mat-row">
            <td class="mat-cell" colspan="4" style="
                padding-top: 1rem;
                padding-left: 1rem;
                padding-bottom: 1rem;
              ">
              {{ "Es sind keine Daten vorhanden." }}
            </td>
          </tr>
        </table>

        <button (click)="create()" class="button-add" color="primary" mat-flat-button>
          Gericht hinzufügen
        </button>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
